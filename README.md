# منصة أكاديمية تأصيل – نظام متابعة الحضور

منظومة داخلية لإدارة الدورات الشرعية والحضور، موجهة للمشرفين والمعلمين، بواجهة عربية كاملة (RTL)، مع ألوان إسلامية هادئة، ودعم كامل للجوال.

## المزايا الرئيسية
- لوحات رئيسية منفصلة: الصفحة الرئيسية، الدورات، الطلاب، الإحصائيات.
- CRUD كامل للدورات والطلاب مع نماذج حوارية واضحة.
- حضور يومي ديناميكي لكل طالب ودورة، مع نسب والتزامات وإحصائيات.
- تصميم موبايل أولاً مع شريط تنقل سفلي للجوال وشريط علوي لسطح المكتب.
- شعار أكاديمية تأصيل (ta2seel.svg) مع أنيميشن دخول لطيف، وخط عربي واضح.

## التقنية
- Next.js 16 (App Router) + TypeScript + Turbopack
- Tailwind CSS مع لوحة ألوان إسلامية (أخضر/محايد) وخطوط عربية مهيأة
- shadcn/ui لعناصر مثل الأزرار، الحوارات، الجداول
- Framer Motion لحركات دخول خفيفة
- Supabase للبيانات (الدورات، الطلاب، الحضور)

## المتطلبات
- Node.js 18+ و npm
- حساب Supabase (أو أي تكوين بيئة مطابق للمتغيرات أدناه)
- متغيرات بيئة في `.env`:
  - `NEXT_PUBLIC_SUPABASE_URL=...`
  - `NEXT_PUBLIC_SUPABASE_ANON_KEY=...`
  - `SUPABASE_SERVICE_ROLE=...` // TODO: تأكد من تهيئة الدور الخدمي إذا لزم للتعديلات المحمية

## التشغيل محلياً
```bash
npm install
npm run dev
# زيارة: http://localhost:3000
```

## أوامر مفيدة
- `npm run lint` : فحص الشفرة.
- `npm run build` : بناء إنتاجي (مستخدَم في CI/النشر).
- `npm run dev` : تشغيل تطويري مع Turbopack.

## بنية المشروع (مختصرة)
- `app/` صفحات App Router (home, courses, students, analytics).
- `components/` مكونات UI (Navbar، BottomNav، الجداول، النماذج، الشعار).
- `lib/` أنواع ودوال البيانات (Supabase storage، course-data).
- `public/ta2seel.svg` شعار الأكاديمية.

## تدفق البيانات
- السياق: `AttendanceProvider` يحمّل الطلاب/الدورات/الحضور من Supabase ويحدثها.
- CRUD:
  - الدورات: إضافة/تعديل/حذف تحفظ في Supabase وتُحدّث القوائم والاختيارات.
  - الطلاب: حقول موسعة (الاسم، العمر، الجوال، البريد، المستحقات، الإنذارات، الملاحظات، الدورات). الإنشاء يتطلب دورة واحدة على الأقل.
  - الحضور: تحديث حالة الطالب لكل تاريخ مع أسباب العذر.

## إرشادات الواجهة
- RTL افتراضي، عناوين وخطوط عربية، تباعد مريح وبطاقات واضحة.
- تنقل علوي لسطح المكتب + تنقل سفلي ثابت للجوال.
- حركات خفيفة فقط (fade/slide قصيرة) بدون تشتيت.

## تحسينات الإنتاج
- تأكد من تهيئة قواعد Supabase والجداول مع العلاقات (students, courses, student_courses, attendance) وإعداد تفويض آمن.
- راجع الصلاحيات (Policies) بما يتوافق مع مفاتيح `anon` و `service_role`.
- حدث `baseline-browser-mapping` إن لزم: `npm i baseline-browser-mapping@latest -D`.

## المساهمة
- حافظ على RTL والحروف العربية في النصوص الظاهرة.
- أضف اختبارات أو لواحق لواجهة الإدارة عند إضافة ميزات CRUD جديدة.
- نفّذ `npm run lint` و `npm run build` قبل فتح طلب دمج.
